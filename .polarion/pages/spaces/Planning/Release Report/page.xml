<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<rich-page>
    <field id="author">admin</field>
    <field id="created">2016-03-16 16:26:57.663 +0100</field>
    <field id="homePageContent" text-type="text/html"><![CDATA[<div class="polarion-rp-column" style="width: 100%;">
  <h1 id="polarion_client64">Release Report</h1>
  <p id="polarion_client65">
    <span class="polarion-rp-inline-widget" data-widget="com.polarion.scriptInline">
      <span class="polarion-rp-widget-parameters">
        <sub id="script">
          <sub id="script" style="white-space:pre;">## Reported By
#set($infoText = &quot;Reported by $transaction.users().getBy().id($securityService.getCurrentUser()).render()&lt;br/&gt;$date.long&quot;)
#if($widgetContext.target().isEditor())
	&lt;div style=&quot;color: grey; text-align: left;&quot;&gt;$infoText&lt;div&gt;
#elseif($widgetContext.target().isPdf())
	&lt;div style=&quot;color: grey; text-align: right; position: absolute; top: 22px; right: 10px;&quot;&gt;$infoText&lt;div&gt;
#elseif($widgetContext.target().isPrint())		
	&lt;div style=&quot;text-align: right; position: absolute; top: 35px; right: 10px;&quot;&gt;$infoText&lt;div&gt;
#end</sub>
        </sub>
      </span>
    </span>
  </p>
</div>
<div class="polarion-rp-row-separator" page_min_width="1000"></div>
<div class="polarion-rp-column" style="width: 100%;">
  <div id="polarion_client4" class="polarion-rp-widget-part" data-widget="com.polarion.scriptBlock">
    <span class="polarion-rp-widget-parameters">
      <sub id="script">
        <sub id="script" style="white-space:pre;">################################################################################
##
##  Velocity Context - following objects are in the velocity context
##
## com.polarion.alm.shared.api.transaction.ReadOnlyTransaction $transaction
## com.polarion.alm.shared.api.model.rp.RichPage $page
## com.polarion.alm.shared.api.model.rp.widget.RichPageWidgetRenderingContext $widgetContext
## javax.servlet.jsp.PageContext $pageContext
##

################################################################################
##
##  CSS
##
&lt;style&gt;
	.polarion-ReleaseTableTop {
		background-color: #ECF0F1;
		border-radius: 10px 10px 0px 0px;
		padding: 5px 5px 5px 5px;
	}
	.polarion-ReleaseTableBot {
		background-color: #ECF0F1;
		border-radius: 0px 0px 10px 10px;
		padding: 5px 5px 5px 5px;
	}
&lt;/style&gt;

################################################################################
##
##  Render
##

#set($allowRendering = true)
#if($pageContext.allowRendering.equals(&quot;false&quot;) || !$pageContext.allowRendering)
	#set($allowRendering = false)
#end

#set($projectId = $page.getReference().projectId())
#if(!$allowRendering)
	$widgetContext.renderWarning(&quot;$pageContext.message&quot;)
	&lt;br/&gt;
	#set($main = $transaction.context().createPortalLink().project(&quot;$projectId&quot;).document(&quot;Planning&quot;, &quot;Release Report&quot;).toEncodedRelativeUrl())
	
	## Sidebar Preparation START
	#set($builderWithSidebar = $transaction.context().createHtmlFragmentBuilderFor().rpeView())
	## Sidebar: Configure displayed fields - #set($displayedFields = [&quot;field1&quot;, &quot;field2&quot;, ...]
	#set($displayedFields = [&quot;releasePlan&quot;, &quot;status&quot;, &quot;resolution&quot;, &quot;releasePM&quot;, &quot;releaseQA&quot;, &quot;featureFreezeDate&quot;, &quot;codeFreezeDate&quot;, &quot;publicLaunch&quot;, &quot;build&quot;, &quot;buildId&quot;, &quot;releaseTestEvidence&quot;, &quot;linkedWorkItems&quot;])
	## Sidebar: Choose unique ID - #set($myContainerId = &quot;myUniqueId&quot;)
	#set($myContainerId = &quot;listOfReleasesWithSidebar&quot;)
	#set($sidebarConfiguration = $renderingContext.propertiesSidebarConfiguration().containerId(&quot;$myContainerId&quot;).fieldIds($displayedFields).addTo($builderWithSidebar))
	#set($pathAttr = $sidebarConfiguration.attributes().referencePath())
	#set($clickClass = $sidebarConfiguration.attributes().clickableCssClass())
	## Sidebar Configuration END
	
	## Sidebar: Assign a unique ID to the table that contains lines that should be clickable - &lt;table id=&quot;$myContainerId&quot;&gt;
	&lt;table class=&quot;polarion-rpw-table-content&quot; id=&quot;$myContainerId&quot;&gt;
		&lt;thead&gt;
			&lt;tr class=&quot;polarion-rpw-table-header-row&quot;&gt;
				&lt;th&gt;Release&lt;/th&gt;
				&lt;th&gt;Status&lt;/th&gt;
				&lt;th&gt;Feature Freeze&lt;/th&gt;
				&lt;th&gt;Code Freeze&lt;/th&gt;
				&lt;th&gt;Public Launch&lt;/th&gt;
				&lt;th&gt;Build ID&lt;/th&gt;
				&lt;th&gt;Build&lt;/th&gt;
				&lt;th&gt;Release Plan&lt;/th&gt;
			&lt;/tr&gt;
		&lt;/thead&gt;
		&lt;tbody&gt;
			#set($releases = $transaction.workItems().search().query(&quot;project.id:$projectId AND type:release&quot;).sort(&quot;status ~publicLaunch&quot;))
			#foreach($release in $releases)
				#set($releasePlan = $release.fields().get(&quot;releasePlan&quot;).get().getModelObject())
				#set($suffix = &quot;?item=$release.getReference().id()&quot;)
				#set($itemLink = &quot;$main$suffix&quot;)
				## Sidebar: Add click class to each row - &lt;tr class=&quot;$clickClass&quot;&gt;
				## Sidebar: Add path to the Work Item for each row - &lt;tr $pathAttr=&quot;$workItem.getReference().toPath()&quot;&gt;
				&lt;tr class=&quot;polarion-rpw-table-content-row $clickClass&quot; $pathAttr=&quot;$release.getReference().toPath()&quot;&gt;
					&lt;td&gt;&lt;a style=&quot;font-size:1em;&quot; target=&quot;_top&quot; href=&quot;$itemLink&quot;&gt;$release.render().withTitle()&lt;/a&gt;&lt;/td&gt;
					&lt;td&gt;$release.fields().status().render()&lt;/td&gt;
					&lt;td&gt;$release.fields().get(&quot;featureFreezeDate&quot;).render()&lt;/td&gt;
					&lt;td&gt;$release.fields().get(&quot;codeFreezeDate&quot;).render()&lt;/td&gt;
					&lt;td&gt;$release.fields().get(&quot;publicLaunch&quot;).render()&lt;/td&gt;
					&lt;td&gt;$release.fields().get(&quot;buildId&quot;).render()&lt;/td&gt;
					&lt;td&gt;
						#if(!$release.fields().get(&quot;build&quot;).is().empty())
							#set($buildId = &quot;$release.fields().get(&#39;build&#39;).get().fields().id().get()&quot;)
							#set($buildLink = $transaction.context().createPortalLink().project(&quot;$projectId&quot;).build(&quot;$buildId&quot;).toEncodedRelativeUrl())
							&lt;a href=&quot;$buildLink&quot; target=&quot;_top&quot;&gt;$release.fields().get(&quot;build&quot;).render()&lt;/a&gt;
						#end
					&lt;/td&gt;
					&lt;td&gt;$releasePlan.render().withLinks()&lt;/td&gt;
				&lt;/tr&gt;
			#end
		&lt;/tbody&gt;
	&lt;/table&gt;
	## Sidebar: Render helper HTML fragment
	$builderWithSidebar
#else
	#set($itemId = $pageContext.itemId)
	#set($item = $transaction.workItems().getBy().ids($projectId, $itemId))
	
	## Sidebar Preparation START
	#set($itemPath = $item.getReference().toPath())
	#set($builderWithSidebar = $transaction.context().createHtmlFragmentBuilderFor().rpeView())
	## Sidebar: Configure displayed fields - #set($displayedFields = [&quot;field1&quot;, &quot;field2&quot;, ...]
	#set($displayedFields = [&quot;releasePlan&quot;, &quot;status&quot;, &quot;resolution&quot;, &quot;releasePM&quot;, &quot;releaseQA&quot;, &quot;featureFreezeDate&quot;, &quot;codeFreezeDate&quot;, &quot;publicLaunch&quot;, &quot;build&quot;, &quot;buildId&quot;, &quot;releaseTestEvidence&quot;, &quot;linkedWorkItems&quot;])
	## Sidebar: Choose unique ID - #set($myContainerId = &quot;myUniqueId&quot;)
	#set($myContainerId = &quot;selectedReleaseWithSidebar&quot;)
	#set($sidebarConfiguration = $renderingContext.propertiesSidebarConfiguration().containerId(&quot;$myContainerId&quot;).fieldIds($displayedFields).addTo($builderWithSidebar))
	#set($pathAttr = $sidebarConfiguration.attributes().referencePath())
	#set($clickClass = $sidebarConfiguration.attributes().clickableCssClass())
	## Sidebar Configuration END
	
	## Sidebar: Assign a unique ID to the table that contains lines that should be clickable - &lt;table id=&quot;$myContainerId&quot;&gt;
	&lt;table class=&quot;polarion-ReleaseTableTop&quot; style=&quot;width: 100%;&quot; id=&quot;$myContainerId&quot;&gt;
		&lt;tr&gt;
			&lt;td style=&quot;vertical-align: top&quot;&gt;
				&lt;table&gt;
					## Sidebar: Add click class to each row - &lt;tr class=&quot;$clickClass&quot;&gt;
					## Sidebar: Add path to the Work Item for each row - &lt;tr $pathAttr=&quot;$workItem.getReference().toPath()&quot;&gt;
					&lt;tr class=&quot;$clickClass&quot; $pathAttr=&quot;$itemPath&quot;&gt;
						&lt;td&gt;&lt;b&gt;Release Item:&lt;/b&gt;&lt;/td&gt;
						&lt;td&gt;$item.render().withLinks().withTitle()&lt;/td&gt;
					&lt;/tr&gt;
					&lt;tr&gt;
						&lt;td&gt;&lt;b&gt;Release ID:&lt;/b&gt;&lt;/td&gt;
						&lt;td&gt;$item.getReference().id()&lt;/td&gt;
					&lt;/tr&gt;
					&lt;tr&gt;
						&lt;td&gt;&lt;b&gt;Release Plan:&lt;/b&gt;&lt;/td&gt;
						&lt;td&gt;$item.fields().get(&quot;releasePlan&quot;).get().getModelObject().render().withLinks()&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/td&gt;
			&lt;td style=&quot;vertical-align: top&quot;&gt;
				&lt;table&gt;
					&lt;tr&gt;
						&lt;td&gt;&lt;b&gt;Release QA:&lt;/b&gt;&lt;/td&gt;
						&lt;td&gt;$item.fields().get(&quot;releaseQA&quot;).render()&lt;/td&gt;
					&lt;/tr&gt;
					&lt;tr&gt;
						&lt;td&gt;&lt;b&gt;Release PM:&lt;/b&gt;&lt;/td&gt;
						&lt;td&gt;$item.fields().get(&quot;releasePM&quot;).render()&lt;/td&gt;
					&lt;/tr&gt;
					&lt;tr&gt;
						&lt;td&gt;&lt;b&gt;Status:&lt;/b&gt;&lt;/td&gt;
						&lt;td&gt;$item.fields().status().render()&lt;/td&gt;
					&lt;/tr&gt;
					&lt;tr&gt;
						&lt;td&gt;&lt;b&gt;Build:&lt;/b&gt;&lt;/td&gt;
						&lt;td&gt;
							#if(!$item.fields().get(&quot;build&quot;).is().empty())
								#set($buildId = &quot;$item.fields().get(&#39;build&#39;).get().fields().id().get()&quot;)
								#set($buildLink = $transaction.context().createPortalLink().project(&quot;$projectId&quot;).build(&quot;$buildId&quot;).toEncodedRelativeUrl())
								&lt;a href=&quot;$buildLink&quot; target=&quot;_top&quot;&gt;$item.fields().get(&quot;build&quot;).render()&lt;/a&gt;
							#end
						&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/td&gt;
			&lt;td style=&quot;vertical-align: top&quot;&gt;
				&lt;table&gt;
					&lt;tr&gt;
						&lt;td&gt;&lt;b&gt;Feature Freeze Date:&lt;/b&gt;&lt;/td&gt;
						&lt;td&gt;$item.fields().get(&quot;featureFreezeDate&quot;).render()&lt;/td&gt;
					&lt;/tr&gt;
					&lt;tr&gt;
						&lt;td&gt;&lt;b&gt;Code Freeze Date:&lt;/b&gt;&lt;/td&gt;
						&lt;td&gt;$item.fields().get(&quot;codeFreezeDate&quot;).render()&lt;/td&gt;
					&lt;/tr&gt;
					&lt;tr&gt;
						&lt;td&gt;&lt;b&gt;Public Launch:&lt;/b&gt;&lt;/td&gt;
						&lt;td&gt;$item.fields().get(&quot;publicLaunch&quot;).render()&lt;/td&gt;
					&lt;/tr&gt;
					&lt;tr&gt;
						&lt;td&gt;&lt;b&gt;Build ID:&lt;/b&gt;&lt;/td&gt;
						&lt;td&gt;$item.fields().get(&quot;buildId&quot;).render()&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/td&gt;
			&lt;td style=&quot;vertical-align: top&quot;&gt;
				&lt;table&gt;
					&lt;tr&gt;
						&lt;td style=&quot;width: 30%; text-align: right;&quot;&gt;
							#set($linkReset = $transaction.context().createPortalLink().project(&quot;$projectId&quot;).document(&quot;Planning&quot;, &quot;Release Report&quot;).toEncodedRelativeUrl())
							&lt;b&gt;&lt;a href=&quot;$linkReset&quot; target=&quot;_top&quot;&gt;Select Another Release&lt;/a&gt;&lt;/b&gt;
						&lt;/td&gt;
					&lt;/tr&gt;
					&lt;tr&gt;
						&lt;td style=&quot;width: 30%; text-align: right;&quot;&gt;
							#set($linkOveral = $transaction.context().createPortalLink().project(&quot;$projectId&quot;).richPage(&quot;Planning&quot;, &quot;Plans and Releases&quot;).toEncodedRelativeUrl())
							&lt;a target=&#39;_top&#39; href=&#39;$linkOveral&#39;&gt;Show General Report&lt;/a&gt;
						&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
	&lt;/table&gt;
	## Sidebar: Assign a unique ID to the table that contains lines that should be clickable - &lt;table id=&quot;$myContainerId&quot;&gt;
	&lt;table class=&quot;polarion-ReleaseTableBot&quot; style=&quot;width:100%;&quot; id=&quot;$myContainerId&quot;&gt;
		&lt;tr&gt;
			&lt;td&gt;&lt;b&gt;QA Assessment&lt;/b&gt;&lt;td&gt;
		&lt;/tr&gt;
		&lt;tr&gt;
			&lt;td&gt;$!item.fields().get(&quot;qaAssessment&quot;).render()&lt;td&gt;
		&lt;/tr&gt;
	&lt;/table&gt;
	## Sidebar: Render helper HTML fragment
	$builderWithSidebar
#end
        </sub>
      </sub>
    </span>
  </div>
</div>
<div class="polarion-rp-row-separator"></div>
<div class="polarion-rp-column" style="width: 100%;">
  <h2 id="polarion_client21">Definition of Done</h2>
  <div id="polarion_client23" class="polarion-rp-widget-part" data-widget="com.polarion.scriptBlock">
    <span class="polarion-rp-widget-parameters" style="display: none;">
      <sub id="script">
        <sub id="script" style="white-space:pre;">###############################################################################
##
## com.polarion.alm.shared.api.transaction.ReadOnlyTransaction $transaction
## com.polarion.alm.shared.api.model.plan.Plan $plan
## com.polarion.alm.shared.api.model.project.Project $project
## com.polarion.alm.shared.api.model.wi.WorkItem $wi
## com.polarion.alm.shared.api.utils.velocity.ObjectFactory $objectFactory
## 

###############################################################################
##
## Macros
##

#macro(showLine $title $rating $justBoolean $info)
	#if(!$first)
		&lt;/td&gt;&lt;/tr&gt;
	#end

	#set($ratingMessage = $rating)
	#set($ratingMessage = &quot;$ratingMessage%&quot;)
	#set($color = &quot;#E74C3C&quot;)

	#if($rating &gt; 100)
		#set($rating = 100)
	#end 
	#if($rating &gt; 99)
		#set($color = &quot;#2ECC71&quot;)
	#else
		#if($rating &gt;= 50 &amp;&amp; $rating &lt;= 99)
			#set($color = &quot;#E67E22&quot;)
		#else 
			#if($rating == -1)
				#set($color = &quot;#3498DB&quot;)
				#set($ratingMessage = &quot;MAN&quot;)
			#else
				#if($rating == -2)
					#set($color = &quot;#95A5A6&quot;)
					#set($ratingMessage = &quot;---&quot;)
				#end
			#end
		#end
	#end
	#if($justBoolean == 1)
		#if($rating &gt; 99)
			#set($ratingMessage = &quot;YES&quot;)
		#elseif($rating != -2)
			#set($ratingMessage = &quot;NO&quot;)
		#end
	#end

	&lt;tr&gt;
		&lt;td rowspan=&quot;3&quot; style=&quot;font-weight: bold; font-size: 16px; width: 65px;&quot;&gt;&lt;div class=&quot;background&quot; style=&quot;background-color: $color;&quot;&gt;&lt;div class=&quot;text&quot;&gt;$ratingMessage&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
		&lt;td style=&quot;height: 10px&quot;&gt;&lt;/td&gt;
	&lt;/tr&gt;
	&lt;tr&gt;
		&lt;td style=&quot;font-weight: bold; font-size: 20px; text-align:left;&quot;&gt;$title&lt;/td&gt;
	&lt;/tr&gt;
	&lt;tr&gt;
		&lt;td style=&quot;font-style: italic;&quot;&gt;$info&lt;/td&gt;
	&lt;/tr&gt;
	&lt;tr&gt;
		&lt;td colspan=&quot;2&quot; style=&quot;padding-bottom: 10px;&quot;&gt;
		#set($first = true)
#end

###############################################################################
##
## CSS
##
&lt;style&gt;
	.background {
		border-radius: 50%;
		-moz-border-radius: 50%;
		-webkit-border-radius: 50%;
		color: white;
		width: 60px;
		height: 60px;
		float: left;
		position: relative;
	}
	.text {	   
		width: 60px;
		position: absolute;
		text-align: center;
		padding-top: 100%;
		-webkit-transform: translateY(-50%); /* child now centers itself relative to the midline based on own contents */
		-moz-transform: translateY(-50%);
		-o-transform: translateY(-50%);
		-ms-transform: translateY(-50%);
		-ms-filter: &#39;progid:DXImageTransform.Microsoft.Matrix(M11=0.5, M12=0, M21=0, M22=0.5, SizingMethod=&quot;auto expand&quot;)&#39;; /*IE8 */
		filter: progid:DXImageTransform.Microsoft.Matrix(M11=0.5, M12=0, M21=0, M22=0.5, SizingMethod=&#39;auto expand&#39;); /*IE6, IE7*/
		transform: translateY(-49%);	
	}
	.filler_main {
		width: 80px;
	}
	.filler_child {
		width: 10px;
	}
	.ok_ko_image {
		border: 0px none;
		width: 10px;
		height: 10px;
		margin-right: 3px;
	}
	#user_story_coverage {
		display: none;
	}
	#requirement_coverage {
		display: none;
	}
&lt;/style&gt;

###############################################################################
##
## General
##

#set($allowRendering = true)
#if($pageContext.allowRendering.equals(&quot;false&quot;) || !$pageContext.allowRendering)
	#set($allowRendering = false)
#end

#if($allowRendering)
	#set($quo = &#39;&quot;&#39;)
	#set($projectId = $pageContext.projectId)
	#set($releaseId = $pageContext.itemId)
	#set($release = $transaction.workItems().getBy().ids(&quot;$projectId&quot;, &quot;$releaseId&quot;))
	#set($releasePlan = $release.fields().get(&quot;releasePlan&quot;).get().getModelObject())
	#set($plannedInQuery = &quot;PLAN:($releasePlan.getReference().toPath())&quot;)
	#set($targetVersionQuery = &quot;targetVersion.KEY:$releasePlan.getReference().id()&quot;)

	###############################################################################
	##
	## Render
	##
	#set($rowMain = &quot;&lt;tr&gt;&lt;td class=&#39;filler_main&#39;&gt;&lt;/td&gt;&lt;td colspan=&#39;2&#39;&gt;&quot;)
	#set($rowChild = &quot;&lt;tr&gt;&lt;td class=&#39;filler_main&#39;&gt;&lt;/td&gt;&lt;td class=&#39;filler_child&#39;&gt;&lt;/td&gt;&lt;td&gt;&quot;)
	#set($rowEmpty = &quot;&lt;tr&gt;&lt;td colspan=&#39;3&#39; style=&#39;height: 8px;&#39;&gt;&lt;/td&gt;&lt;/tr&gt;&quot;)
	#set($rowEnd = &quot;&lt;/td&gt;&lt;/tr&gt;&quot;)
	#set($ko = &quot;/polarion/icons/default/enums/testrun_status_failed.png&quot;)
	#set($ok = &quot;/polarion/icons/default/enums/testrun_status_passed.png&quot;)

	&lt;br/&gt;
	&lt;table style=&quot;width: 80%;&quot; border=&quot;0&quot;&gt;

		##############
		## 1 - Epics Done and Meet Acceptance Criteria
		##   - All targeted Epics are Verified or Rejected.
		##
		#set($epicsAllQuery = &quot;type:(epic) AND $targetVersionQuery AND project.id:$projectId&quot;)
		#set($epicsAllLink = $transaction.context().createPortalLink().project(&quot;$projectId&quot;).workItems().query(&quot;$epicsAllQuery&quot;).toEncodedRelativeUrl())
		#set($epicsAllCount = $transaction.workItems().count().query(&quot;$epicsAllQuery&quot;).result())
		#set($epicsWrongQuery = &quot;type:(epic) AND NOT status:(verified rejected) AND $targetVersionQuery AND project.id:$projectId&quot;)
		#set($epicsWrongLink = $transaction.context().createPortalLink().project(&quot;$projectId&quot;).workItems().query(&quot;$epicsWrongQuery&quot;).toEncodedRelativeUrl())
		#set($epicsWrongCount = $transaction.workItems().count().query(&quot;$epicsWrongQuery&quot;).result())
		#set($progress = 0)
		#if($epicsAllCount != 0)
			#set($progress = 100 - (100 * $epicsWrongCount / $epicsAllCount))
		#else
			#set($progress = -2)
		#end

		#showLine(&quot;Epics Done and Meet Acceptance Criteria&quot; $progress 0 &quot;All targeted Epics are Verified or Rejected.&quot;)
		&lt;br/&gt;
		&lt;table&gt;
			#if($epicsAllCount &gt; 0)
				$rowMain&lt;a href=&quot;$epicsAllLink&quot; target=&quot;_top&quot;&gt;&lt;b&gt;$epicsAllCount&lt;/b&gt;#if($epicsAllCount == 1) Epic#else Epics#end targeted for this Release&lt;/a&gt;$rowEnd
				#if($epicsWrongCount &gt; 0)
					#set($iconURL = $ko)
					$rowChild&lt;img src=&quot;$iconURL&quot; class=&quot;ok_ko_image&quot;/&gt;&lt;a href=&quot;$epicsWrongLink&quot; target=&quot;_top&quot;&gt;&lt;b&gt;$epicsWrongCount&lt;/b&gt; not Verified or Rejected&lt;/a&gt;$rowEnd
				#else
					#set($iconURL = $ok)
					$rowChild&lt;img src=&quot;$iconURL&quot; class=&quot;ok_ko_image&quot;/&gt;&lt;b&gt;All&lt;/b&gt; Verified or Rejected$rowEnd
				#end
			#else
				$rowMain&lt;b&gt;No targeted Epics&lt;/b&gt; found for this Release$rowEnd
			#end
		&lt;/table&gt;
				
		##############
		## 2 - User Stories Done and Meet Acceptance Criteria
		##   - All planned User Stories are Verified or Rejected.
		##
		#set($storiesAllQuery = &quot;type:(userstory) AND $plannedInQuery AND project.id:$projectId&quot;)
		#set($storiesAllLink = $transaction.context().createPortalLink().project(&quot;$projectId&quot;).workItems().query(&quot;$storiesAllQuery&quot;).toEncodedRelativeUrl())
		#set($storiesAllCount = $transaction.workItems().count().query(&quot;$storiesAllQuery&quot;).result())
		#set($storiesWrongQuery = &quot;type:(userstory) AND NOT status:(verified rejected) AND $plannedInQuery AND project.id:$projectId&quot;)
		#set($storiesWrongLink = $transaction.context().createPortalLink().project(&quot;$projectId&quot;).workItems().query(&quot;$storiesWrongQuery&quot;).toEncodedRelativeUrl())
		#set($storiesWrongCount = $transaction.workItems().count().query(&quot;$storiesWrongQuery&quot;).result())
		#set($progress = 0)
		#if($storiesAllCount != 0)
			#set($progress = 100 - (100 * $storiesWrongCount / $storiesAllCount))
		#else
			#set($progress = -2)
		#end

		#showLine(&quot;User Stories Done and Meet Acceptance Criteria&quot; $progress 0 &quot;All planned User Stories are Verified or Rejected.&quot;)
		&lt;br/&gt;
		&lt;table&gt;
			#if($storiesAllCount &gt; 0)
				$rowMain&lt;a href=&quot;$storiesAllLink&quot; target=&quot;_top&quot;&gt;&lt;b&gt;$storiesAllCount&lt;/b&gt;#if($storiesAllCount == 1) User Story#else User Stories#end planned in the Release Plan&lt;/a&gt;$rowEnd
				#if($storiesWrongCount &gt; 0)
					#set($iconURL = $ko)
					$rowChild&lt;img src=&quot;$iconURL&quot; class=&quot;ok_ko_image&quot;/&gt;&lt;a href=&quot;$storiesWrongLink&quot; target=&quot;_top&quot;&gt;&lt;b&gt;$storiesWrongCount&lt;/b&gt; not Verified or Rejected&lt;/a&gt;$rowEnd
				#else
					#set($iconURL = $ok)
					$rowChild&lt;img src=&quot;$iconURL&quot; class=&quot;ok_ko_image&quot;/&gt;&lt;b&gt;All&lt;/b&gt; Verified or Rejected$rowEnd
				#end
			#else
				$rowMain&lt;b&gt;No planned User Stories&lt;/b&gt; found for this Release$rowEnd
			#end
		&lt;/table&gt;

		##############
		## 3 - Issues Done and Meet Acceptance Criteria
		##   - All targeted Issues are Verified or Rejected.
		##
		#set($issuesAllQuery = &quot;type:(issue) AND $targetVersionQuery AND project.id:$projectId&quot;)
		#set($issuesAllLink = $transaction.context().createPortalLink().project(&quot;$projectId&quot;).workItems().query(&quot;$issuesAllQuery&quot;).toEncodedRelativeUrl())
		#set($issuesAllCount = $transaction.workItems().count().query(&quot;$issuesAllQuery&quot;).result())
		#set($issuesWrongQuery = &quot;type:(issue) AND NOT status:(verified rejected) AND $targetVersionQuery AND project.id:$projectId&quot;)
		#set($issuesWrongLink = $transaction.context().createPortalLink().project(&quot;$projectId&quot;).workItems().query(&quot;$issuesWrongQuery&quot;).toEncodedRelativeUrl())
		#set($issuesWrongCount = $transaction.workItems().count().query(&quot;$issuesWrongQuery&quot;).result())
		#set($progress = 0)
		#if($issuesAllCount != 0)
			#set($progress = 100 - (100 * $issuesWrongCount / $issuesAllCount))
		#else
			#set($progress = -2)
		#end

		#showLine(&quot;Issues Done and Meet Acceptance Criteria&quot; $progress 0 &quot;All targeted Issues are Verified or Rejected.&quot;)
		&lt;br/&gt;
		&lt;table&gt;
			#if($issuesAllCount &gt; 0)
				$rowMain&lt;a href=&quot;$issuesAllLink&quot; target=&quot;_top&quot;&gt;&lt;b&gt;$issuesAllCount&lt;/b&gt;#if($issuesAllCount == 1) Issue#else Issues#end targeted for this Release&lt;/a&gt;$rowEnd
				#if($issuesWrongCount &gt; 0)
					#set($iconURL = $ko)
					$rowChild&lt;img src=&quot;$iconURL&quot; class=&quot;ok_ko_image&quot;/&gt;&lt;a href=&quot;$issuesWrongLink&quot; target=&quot;_top&quot;&gt;&lt;b&gt;$issuesWrongCount&lt;/b&gt; not Verified or Rejected&lt;/a&gt;$rowEnd
				#else
					#set($iconURL = $ok)
					$rowChild&lt;img src=&quot;$iconURL&quot; class=&quot;ok_ko_image&quot;/&gt;&lt;b&gt;All&lt;/b&gt; Verified or Rejected$rowEnd
				#end
			#else
				$rowMain&lt;b&gt;No targeted Issues&lt;/b&gt; found for this Release$rowEnd
			#end
		&lt;/table&gt;
						
		##############
		## 4 - Release Verification and Validation Done
		##   - Release Test Run is executed and Verified Passed or Rejected. All Test Runs from Release Test Evidence field on the Release Work Item are Verified Passed.
		##
		#set($testRunsQuery = &quot;project.id:$projectId AND planScope.KEY:$releasePlan.getReference().id()&quot;)
		#set($testRuns = $transaction.testRuns().search().query(&quot;$testRunsQuery&quot;))
		#set($releaseCount = 0)
		#set($releaseIds = &quot;&quot;)
		#set($releaseLink = &quot;&quot;)
		#set($releaseValidatedCount = 0)
		#set($releaseNotValidatedIds = &quot;&quot;)
		#set($releaseNotValidatedLink = &quot;&quot;)
		#foreach($testRun in $testRuns)
			#set($testId = $testRun.getReference().id())
			#set($testTemplate = $testRun.fields().template().get().getReference().id())
			#set($testStatus = $testRun.fields().status().get().id())
			#if($testTemplate.equals(&quot;Release Test&quot;))
				#set($releaseCount = $releaseCount + 1)
				#set($releaseIds = &quot;$!releaseIds $quo$testId$quo&quot;)
				#if($testStatus.equals(&quot;verifiedPassed&quot;) || $testStatus.equals(&quot;rejected&quot;))
					#set($releaseValidatedCount = $math.add($releaseValidatedCount, 1))
				#else
					#set($releaseNotValidatedIds = &quot;$releaseNotValidatedIds $quo$testId$quo&quot;)
				#end
			#end
		#end
		#set($releaseLink = $transaction.context().createPortalLink().project(&quot;$projectId&quot;).testRuns().query(&quot;id:($releaseIds.trim())&quot;).toEncodedRelativeUrl())
		#set($releaseNotValidatedLink = $transaction.context().createPortalLink().project(&quot;$projectId&quot;).testRuns().query(&quot;id:($releaseNotValidatedIds.trim())&quot;).toEncodedRelativeUrl())
		
		#set($testEvidenceTestRuns = $release.fields().get(&quot;releaseTestEvidence&quot;))
		#set($testEvidenceTestRunCount = $testEvidenceTestRuns.size())
		#set($testEvidenceTestRunsEmpty = $testEvidenceTestRuns.isEmpty())
		#if(!$testEvidenceTestRunsEmpty)
			#set($testEvidenceTestRunsCount = $testEvidenceTestRuns.size())
			#set($testRunIds = &quot;&quot;)
			#set($invalidTestRunIds = &quot;&quot;)
			#set($invalidTestRunCount = 0)
			#foreach($testRun in $testEvidenceTestRuns)
				#set($testRunIds = &quot;$!testRunIds $quo$testRun.getReference().id()$quo&quot;)
				#if(!$testRun.getModelObject().fields().status().optionId().equals(&quot;verifiedPassed&quot;))
					#set($invalidTestRunIds = &quot;$!invalidTestRunIds $quo$testRun.getReference().id()$quo&quot;)
					#set($invalidTestRunCount = $math.add($invalidTestRunCount, 1))
				#end
			#end
		#end
		#set($testEvidenceTestRunsLink = $transaction.context().createPortalLink().project(&quot;$projectId&quot;).testRuns().query(&quot;id:($testRunIds.trim())&quot;).toEncodedRelativeUrl())
		#set($invalidTestRunsLink = $transaction.context().createPortalLink().project(&quot;$projectId&quot;).testRuns().query(&quot;id:($invalidTestRunIds.trim())&quot;).toEncodedRelativeUrl())
`
		#set($progress = 0)
		#if($releaseCount &gt; 0)
			#set($progress = $progress + 25)
		#end
		#if($testEvidenceTestRunCount &gt; 0)
			#set($progress = $progress + 25)
		#end
		#if($releaseValidatedCount &gt; 0)
			#set($evaluatedValue = $math.mul($math.div($releaseValidatedCount, $releaseCount), 25))
			#set($progress = $math.add($progress, $evaluatedValue))
		#end
		#if($testEvidenceTestRunCount &gt; 0)
			#set($evaluatedValue = $math.mul($math.div($math.sub($testEvidenceTestRunCount, $invalidTestRunCount), $testEvidenceTestRunCount), 25))
			#set($progress = $math.add($progress, $evaluatedValue))
		#end
		#if($progress == 0)
			#set($progress = -2)
		#end

		#showLine(&quot;Release Verification and Validation Done&quot; $progress.intValue() 0 &quot;Release Test Run is executed and Verified Passed or Rejected. All Test Runs from Release Test Evidence field on the Release Work Item are Verified Passed.&quot;)
		&lt;br/&gt;
		&lt;table&gt;
			#if($releaseCount != 0)
				$rowMain&lt;a href=&quot;$releaseLink&quot; target=&quot;_top&quot;&gt;&lt;b&gt;$releaseCount&lt;/b&gt; linked Release#if($releaseCount == 1) Test Run#else Test Runs#end&lt;/a&gt;&lt;br/&gt;$rowEnd
				#if($math.sub($releaseCount, $releaseValidatedCount) &gt; 0)
					#set($iconURL = $ko)
					$rowChild&lt;img src=&quot;$iconURL&quot; class=&quot;ok_ko_image&quot;/&gt;&lt;a href=&quot;$releaseNotValidatedLink&quot; target=&quot;_top&quot;&gt;&lt;b&gt;$math.sub($releaseCount, $releaseValidatedCount)&lt;/b&gt; not performed and validated&lt;/a&gt;$rowEnd
				#else
					#set($iconURL = $ok)
					$rowChild&lt;img src=&quot;$iconURL&quot; class=&quot;ok_ko_image&quot;/&gt;&lt;b&gt;All&lt;/b&gt; performed and validated$rowEnd
				#end
			#else 
				$rowMain&lt;img src=&quot;$ko&quot; class=&quot;ok_ko_image&quot;/&gt;&lt;b&gt;At least one&lt;/b&gt; Release Test Run must be set for the Release by setting Test Run&#39;s &lt;b&gt;Plan Scope&lt;/b&gt; custom field.$rowEnd
			#end
			$rowEmpty
			#if($testEvidenceTestRunCount != 0)
				$rowMain&lt;a href=&quot;$testEvidenceTestRunsLink&quot; target=&quot;_top&quot;&gt;&lt;b&gt;$testEvidenceTestRunCount&lt;/b&gt;#if($testEvidenceTestRunCount == 1) Test Run#else Test Runs#end set in the Release Test Evidence&lt;/a&gt;&lt;br/&gt;$rowEnd
				#if($math.sub($testEvidenceTestRunCount, $invalidTestRunCount) &gt; 0)
					#set($iconURL = $ko)
					$rowChild&lt;img src=&quot;$iconURL&quot; class=&quot;ok_ko_image&quot;/&gt;&lt;a href=&quot;$invalidTestRunsLink&quot; target=&quot;_top&quot;&gt;&lt;b&gt;$invalidTestRunCount&lt;/b&gt; not performed and validated&lt;/a&gt;$rowEnd
				#else
					#set($iconURL = $ok)
					$rowChild&lt;img src=&quot;$iconURL&quot; class=&quot;ok_ko_image&quot;/&gt;&lt;b&gt;All&lt;/b&gt; performed and validated$rowEnd
				#end
			#else 
				$rowMain&lt;img src=&quot;$ko&quot; class=&quot;ok_ko_image&quot;/&gt;&lt;b&gt;At least one&lt;/b&gt; Test Run must be set for the Release&#39;s &lt;b&gt;Release Test Evidence&lt;/b&gt; custom field.$rowEnd
			#end
		&lt;/table&gt;

		##############
		## 5 - Test Case Traceability Assured
		##   - All planned User Stories and their parent Requirements are covered by Test Cases.
		## % of covered Requirements and User Stories
		##
		## Get planned User Stories
		#set($plannedStoriesQuery = &quot;type:(userstory) AND $plannedInQuery&quot;)
		#set($plannedStoriesLink = $transaction.context().createPortalLink().project(&quot;$projectId&quot;).workItems().query(&quot;$plannedStoriesQuery&quot;).toEncodedRelativeUrl())
		#set($plannedStories = $transaction.workItems().search().query(&quot;$plannedStoriesQuery&quot;))
		#set($plannedStoriesCount = $plannedStories.size())
		#set($notCoveredUserStoryIds = &quot;&quot;)
		#set($notCoveredUserStoryCount = 0)
		#set($requirements = $objectFactory.newSet())
		#set($requirementIds = &quot;&quot;)
		#set($notCoveredRequirementIds = &quot;&quot;)
		#set($notCoveredRequirementCount = 0)
		#foreach($story in $plannedStories)
			## Get parent Requirements
			#foreach($linked in $story.fields().linkedWorkItems().direct())
				#set($item = $linked.fields().workItem().get())
				#if($item.fields().type().optionId().equals(&quot;requirement&quot;) &amp;&amp; $linked.fields().role().optionId().equals(&quot;implements&quot;))
					#if(!$requirements.contains($item))
						#set($void = $requirements.add($item))
						#set($requirementIds = &quot;$!requirementIds $item.getReference().id()&quot;)
						## Check Requirement for Test Cases
						#set($requirementCovered = false)
						#foreach($backlinked in $item.fields().linkedWorkItems().back())
							#set($backlinkedItem = $backlinked.fields().workItem().get())
							#if($backlinkedItem.fields().type().optionId().equals(&quot;testcase&quot;) &amp;&amp; $backlinked.fields().role().optionId().equals(&quot;verifies&quot;))
								#set($requirementCovered = true)
							#end
						#end
						#if(!$requirementCovered)
							#set($notCoveredRequirementIds = &quot;$!notCoveredRequirementIds $item.getReference().id()&quot;)
							#set($notCoveredRequirementCount = $math.add($notCoveredRequirementCount, 1))
						#end
					#end
				#end
			#end
			## Check User Story for Test Cases
			#set($storyCovered = false)
			#foreach($backlinked in $story.fields().linkedWorkItems().back())
				#set($backlinkedItem = $backlinked.fields().workItem().get())
				#if($backlinkedItem.fields().type().optionId().equals(&quot;testcase&quot;) &amp;&amp; $backlinked.fields().role().optionId().equals(&quot;verifies&quot;))
					#set($storyCovered = true)
				#end
			#end
			#if(!$storyCovered)
				#set($notCoveredUserStoryIds = &quot;$!notCoveredUserStoryIds $story.getReference().id()&quot;)
				#set($notCoveredUserStoryCount = $math.add($notCoveredUserStoryCount, 1))
			#end
		#end
		#set($notCoveredUserStoryQuery = &quot;id:($notCoveredUserStoryIds.trim())&quot;)
		#set($notCoveredUserStoryLink = $transaction.context().createPortalLink().project(&quot;$projectId&quot;).workItems().query(&quot;$notCoveredUserStoryQuery&quot;).toEncodedRelativeUrl())
		#set($requirementIdsQuery = &quot;id:($requirementIds.trim())&quot;)
		#set($requirementIdsLink = $transaction.context().createPortalLink().project(&quot;$projectId&quot;).workItems().query(&quot;$requirementIdsQuery&quot;).toEncodedRelativeUrl())
		#set($notCoveredRequirementQuery = &quot;id:($notCoveredRequirementIds.trim())&quot;)
		#set($notCoveredRequirementLink = $transaction.context().createPortalLink().project(&quot;$projectId&quot;).workItems().query(&quot;$notCoveredRequirementQuery&quot;).toEncodedRelativeUrl())
		
		#set($progress = 0)
		#set($totalItems = $math.add($plannedStories.size(), $requirements.size()))
		#set($notCoveredItems = $math.add($notCoveredUserStoryCount, $notCoveredRequirementCount))
		#if($totalItems != 0)
			#set($progress = 100 * ($totalItems - $notCoveredItems) / $totalItems)
		#else
			#set($progress = -2)
		#end
		
		#showLine(&quot;Test Case Traceability Assured&quot; $progress 0 &quot;All planned User Stories and their parent Requirements are covered by Test Cases.&quot;)
		&lt;br/&gt;
		&lt;table&gt;
			#if($totalItems &gt; 0)
				#if($plannedStories.size() &gt; 0)
					$rowMain&lt;a href=&quot;$plannedStoriesLink&quot; target=&quot;_top&quot;&gt;&lt;b&gt;$plannedStories.size()&lt;/b&gt;#if($plannedStories.size() == 1) User Story#else User Stories#end planned in the Release Plan&lt;/a&gt;$rowEnd
					#if($notCoveredUserStoryCount &gt; 0)
						#set($iconURL = $ko)
						$rowChild&lt;img src=&quot;$iconURL&quot; class=&quot;ok_ko_image&quot;/&gt;&lt;a href=&quot;$notCoveredUserStoryLink&quot; target=&quot;_top&quot;&gt;&lt;b&gt;$notCoveredUserStoryCount&lt;/b&gt; not covered by Test Cases&lt;/a&gt;&lt;span onclick=&quot;var style = getElementById(&#39;user_story_coverage&#39;).style; style.display = (style.display == &#39;block&#39;) ? &#39;none&#39; : &#39;block&#39;;&quot;&gt; - &lt;a&gt;&lt;b&gt;Toggle Detailed View&lt;/b&gt;&lt;/a&gt;&lt;/span&gt;$rowEnd
						$rowChild
							&lt;div id=&quot;user_story_coverage&quot; class=&quot;polarion-rp-widget-part&quot; data-widget=&quot;traceabilitytable&quot;&gt;
								&lt;span class=&quot;polarion-rp-widget-parameters&quot;&gt;
									&lt;sub id=&quot;dataSet&quot;&gt;
										&lt;sub id=&quot;prototype&quot;&gt;WorkItem&lt;/sub&gt;
										&lt;sub id=&quot;subtype&quot;&gt;userstory&lt;/sub&gt;
										&lt;sub id=&quot;queryType&quot;&gt;luceneVelocity&lt;/sub&gt;
										&lt;sub id=&quot;luceneQuery&quot;&gt;$notCoveredUserStoryQuery&lt;/sub&gt;
										&lt;sub id=&quot;children&quot;&gt;
											&lt;sub id=&quot;sortBy&quot;&gt;
												&lt;sub&gt;
													&lt;sub id=&quot;id&quot;&gt;priority&lt;/sub&gt;
													&lt;sub id=&quot;descending&quot;&gt;true&lt;/sub&gt;
												&lt;/sub&gt;
											&lt;/sub&gt;
										&lt;/sub&gt;
									&lt;/sub&gt;
									&lt;sub id=&quot;settings&quot;&gt;
										&lt;sub id=&quot;linkedItemTypes&quot;&gt;
											&lt;sub id=&quot;values&quot;&gt;
												&lt;sub&gt;testcase&lt;/sub&gt;
											&lt;/sub&gt;
										&lt;/sub&gt;
										&lt;sub id=&quot;linkedRoles&quot;&gt;
											&lt;sub id=&quot;values&quot;&gt;
												&lt;sub&gt;verifies&lt;/sub&gt;
											&lt;/sub&gt;
										&lt;/sub&gt;
										&lt;sub id=&quot;filterByCoverage&quot;&gt;
											&lt;sub id=&quot;values&quot;&gt;
												&lt;sub&gt;hideCovered&lt;/sub&gt;
											&lt;/sub&gt;
										&lt;/sub&gt;
										&lt;sub id=&quot;defectItemTypes&quot;&gt;
											&lt;sub id=&quot;values&quot;&gt;
												&lt;sub&gt;issue&lt;/sub&gt;
											&lt;/sub&gt;
										&lt;/sub&gt;
										&lt;sub id=&quot;defectRoles&quot;&gt;
											&lt;sub id=&quot;values&quot;&gt;
												&lt;sub&gt;triggered_by&lt;/sub&gt;
											&lt;/sub&gt;
										&lt;/sub&gt;
									&lt;/sub&gt;
									&lt;sub id=&quot;advanced&quot;&gt;
										&lt;sub id=&quot;collapseLimit&quot;&gt;5&lt;/sub&gt;
										&lt;sub id=&quot;sourceItemColumnTitle&quot;&gt;Use Case&lt;/sub&gt;
										&lt;sub id=&quot;linkedItemColumnTitle&quot;&gt;Test Case&lt;/sub&gt;
										&lt;sub id=&quot;defectItemColumnTitle&quot;&gt;Issue&lt;/sub&gt;
									&lt;/sub&gt;
								&lt;/span&gt;
							&lt;/div&gt;
						$rowEnd
					#else
						#set($iconURL = $ok)
						$rowChild&lt;img src=&quot;$iconURL&quot; class=&quot;ok_ko_image&quot;/&gt;&lt;b&gt;All&lt;/b&gt; Covered by Test Cases$rowEnd
					#end
				#else
					$rowMain&lt;b&gt;No planned User Stories&lt;/b&gt; found for this Release$rowEnd
				#end
				#if($requirements.size() &gt; 0)
					$rowEmpty
					$rowMain&lt;a href=&quot;$requirementIdsLink&quot; target=&quot;_top&quot;&gt;&lt;b&gt;$requirements.size()&lt;/b&gt;#if($requirements.size() == 1) Requirement#else Requirements#end implemented by the User Stories&lt;/a&gt;$rowEnd
					#if($notCoveredRequirementCount &gt; 0)
						#set($iconURL = $ko)
						$rowChild&lt;img src=&quot;$iconURL&quot; class=&quot;ok_ko_image&quot;/&gt;&lt;a href=&quot;$notCoveredRequirementLink&quot; target=&quot;_top&quot;&gt;&lt;b&gt;$notCoveredRequirementCount&lt;/b&gt; not covered by Test Cases&lt;/a&gt;&lt;span onclick=&quot;var style = getElementById(&#39;requirement_coverage&#39;).style; style.display = (style.display == &#39;block&#39;) ? &#39;none&#39; : &#39;block&#39;;&quot;&gt; - &lt;a&gt;&lt;b&gt;Toggle Detailed View&lt;/b&gt;&lt;/a&gt;&lt;/span&gt;$rowEnd
						$rowChild
							&lt;div id=&quot;requirement_coverage&quot; class=&quot;polarion-rp-widget-part&quot; data-widget=&quot;traceabilitytable&quot;&gt;
								&lt;span class=&quot;polarion-rp-widget-parameters&quot;&gt;
									&lt;sub id=&quot;dataSet&quot;&gt;
										&lt;sub id=&quot;prototype&quot;&gt;WorkItem&lt;/sub&gt;
										&lt;sub id=&quot;subtype&quot;&gt;requirement&lt;/sub&gt;
										&lt;sub id=&quot;queryType&quot;&gt;luceneVelocity&lt;/sub&gt;
										&lt;sub id=&quot;luceneQuery&quot;&gt;$notCoveredRequirementQuery&lt;/sub&gt;
										&lt;sub id=&quot;children&quot;&gt;
											&lt;sub id=&quot;sortBy&quot;&gt;
												&lt;sub&gt;
													&lt;sub id=&quot;id&quot;&gt;priority&lt;/sub&gt;
													&lt;sub id=&quot;descending&quot;&gt;true&lt;/sub&gt;
												&lt;/sub&gt;
											&lt;/sub&gt;
										&lt;/sub&gt;
									&lt;/sub&gt;
									&lt;sub id=&quot;settings&quot;&gt;
										&lt;sub id=&quot;linkedItemTypes&quot;&gt;
											&lt;sub id=&quot;values&quot;&gt;
												&lt;sub&gt;testcase&lt;/sub&gt;
											&lt;/sub&gt;
										&lt;/sub&gt;
										&lt;sub id=&quot;linkedRoles&quot;&gt;
											&lt;sub id=&quot;values&quot;&gt;
												&lt;sub&gt;verifies&lt;/sub&gt;
											&lt;/sub&gt;
										&lt;/sub&gt;
										&lt;sub id=&quot;filterByCoverage&quot;&gt;
											&lt;sub id=&quot;values&quot;&gt;
												&lt;sub&gt;hideCovered&lt;/sub&gt;
											&lt;/sub&gt;
										&lt;/sub&gt;
										&lt;sub id=&quot;defectItemTypes&quot;&gt;
											&lt;sub id=&quot;values&quot;&gt;
												&lt;sub&gt;issue&lt;/sub&gt;
											&lt;/sub&gt;
										&lt;/sub&gt;
										&lt;sub id=&quot;defectRoles&quot;&gt;
											&lt;sub id=&quot;values&quot;&gt;
												&lt;sub&gt;triggered_by&lt;/sub&gt;
											&lt;/sub&gt;
										&lt;/sub&gt;
									&lt;/sub&gt;
									&lt;sub id=&quot;advanced&quot;&gt;
										&lt;sub id=&quot;collapseLimit&quot;&gt;5&lt;/sub&gt;
										&lt;sub id=&quot;sourceItemColumnTitle&quot;&gt;Requirement&lt;/sub&gt;
										&lt;sub id=&quot;linkedItemColumnTitle&quot;&gt;Test Case&lt;/sub&gt;
										&lt;sub id=&quot;defectItemColumnTitle&quot;&gt;Issue&lt;/sub&gt;
									&lt;/sub&gt;
								&lt;/span&gt;
							&lt;/div&gt;
						$rowEnd
					#else
						#set($iconURL = $ok)
						$rowChild&lt;img src=&quot;$iconURL&quot; class=&quot;ok_ko_image&quot;/&gt;&lt;b&gt;All&lt;/b&gt; Covered by Test Cases$rowEnd
					#end
				#else
					$rowMain&lt;b&gt;No Requirements&lt;/b&gt; implemented by the User Stories found$rowEnd
				#end
			#end
		&lt;/table&gt;

		##############
		## 6 - No Blocker Issues
		##   - All currently reported Issues have Severity lower than Blocker.
		##
		#set($blockerDefectsQuery = &quot;project.id:$projectId AND type:(issue) AND NOT status:(rejected verified) AND severity:blocker&quot;)
		#set($blockerDefectsLink = $transaction.context().createPortalLink().repository().workItems().query(&quot;$blockerDefectsQuery&quot;).toEncodedRelativeUrl())
		#set($blockerDefectsCount = $transaction.workItems().count().query($blockerDefectsQuery).result())

		#set($progress = 0)
		#if($blockerDefectsCount == 0)
			#set($progress = 100)
		#else
			#set($progress = 0)
		#end

		#showLine(&quot;No Blocker Issues&quot; $progress 1 &quot;All currently reported Issues have Severity lower than Blocker.&quot;)
		&lt;br/&gt;
		&lt;table&gt;
			#if($blockerDefectsCount &gt; 0)
				$rowMain&lt;a href=&quot;$blockerDefectsLink&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;$ko&quot; class=&quot;ok_ko_image&quot;/&gt;&lt;b&gt;$blockerDefectsCount&lt;/b&gt; Blocker#if($linkedDefectsCount == 1) Issue#else Issues#end found&lt;/a&gt;$rowEnd
			#else
				$rowMain&lt;img src=&quot;$ok&quot; class=&quot;ok_ko_image&quot;/&gt;&lt;b&gt;No active&lt;/b&gt; Blocker Issues found$rowEnd
			#end
		&lt;/table&gt;

		##############
		## 7 - Release Documentation Complete
		##   - The required documentation is ready for the release.
		##
		#showLine(&quot;Release Documentation Complete&quot; -1 0 &quot;The Release documentation is complete.&quot;)
		&lt;br/&gt;
		&lt;table&gt;
			$rowMain&lt;img src=&quot;/polarion/icons/default/enums/req_status_draft.gif&quot; class=&quot;ok_ko_image&quot;/&gt;Needs to be checked &lt;b&gt;manually&lt;/b&gt;$rowEnd
		&lt;/table&gt;

		##############
		## 8 - Approved by Quality Assurance
		##   - The Release is assigned to a QA and the feedback is noted in &#39;QA Assessment&#39; field.
		##
		#set($isReleaseQAEmpty = $release.fields().get(&quot;releaseQA&quot;).is().empty())
		#set($isqaAssessmentEmpty = $release.fields().get(&quot;qaAssessment&quot;).is().empty())
		#set($progress = 0)
		#if(!$isReleaseQAEmpty &amp;&amp; !$isqaAssessmentEmpty)
			#set($progress = 100)
		#end

		#showLine(&quot;Approved by Quality Assurance&quot; $progress 1 &quot;The Release is assigned to a QA and the feedback is noted in &#39;QA Assessment&#39; field.&quot;)
		&lt;br/&gt;
		&lt;table&gt;
			#if($isReleaseQAEmpty)
				#set($iconURL = $ko)
				$rowMain&lt;img src=&quot;$iconURL&quot; class=&quot;ok_ko_image&quot;/&gt;Release QA &lt;b&gt;not assigned&lt;/b&gt;$rowEnd
			#else
				#set($iconURL = $ok)
				$rowMain&lt;img src=&quot;$iconURL&quot; class=&quot;ok_ko_image&quot;/&gt;Release QA: &lt;b&gt;$release.fields().get(&quot;releaseQA&quot;).render().htmlFor().forFrame()&lt;/b&gt;$rowEnd
			#end
			#if($isqaAssessmentEmpty)
				#set($iconURL = $ko)
				$rowMain&lt;img src=&quot;$iconURL&quot; class=&quot;ok_ko_image&quot;/&gt;Missing &lt;b&gt;QA Assessment&lt;/b&gt;$rowEnd
			#else
				#set($iconURL = $ok)
				$rowMain&lt;img src=&quot;$iconURL&quot; class=&quot;ok_ko_image&quot;/&gt;Scroll up for &lt;b&gt;QA Assessment&lt;/b&gt;$rowEnd
			#end
		&lt;/table&gt;

		##############
		## 9 - Approved by Product and Release Management
		##   - The Release is assigned to a PM and it is Completed or Published.
		##
		#set($status = $release.fields().status().get().fields().id().get())
		#set($isReleasePMEmpty = $release.fields().get(&quot;releasePM&quot;).is().empty())
		#set($progress = 0)
		#if(!$isReleasePMEmpty &amp;&amp; ($status.equals(&quot;complete&quot;) || $status.equals(&quot;published&quot;)))
			#set($progress = 100)
		#end

		#showLine(&quot;Approved by Product and Release Management&quot; $progress 1 &quot;The Release is assigned to a PM and it is Completed or Published.&quot;)
		&lt;br/&gt;
		&lt;table&gt;
			#if($status.equals(&quot;complete&quot;) || $status.equals(&quot;published&quot;))
				#set($iconURL = $ok)
				$rowMain&lt;img src=&quot;$iconURL&quot; class=&quot;ok_ko_image&quot;/&gt;Release is &lt;b&gt;$release.fields().status().render().htmlFor().forFrame()&lt;/b&gt;$rowEnd
			#else
				#set($iconURL = $ko)
				$rowMain&lt;img src=&quot;$iconURL&quot; class=&quot;ok_ko_image&quot;/&gt;Release is not &lt;b&gt;Completed or Published&lt;/b&gt;$rowEnd
			#end
			#if(!$isReleasePMEmpty)
				#set($iconURL = $ok)
				$rowMain&lt;img src=&quot;$iconURL&quot; class=&quot;ok_ko_image&quot;/&gt;Release PM: &lt;b&gt;$release.fields().get(&quot;releasePM&quot;).render().htmlFor().forFrame()&lt;/b&gt;$rowEnd
			#else
				#set($iconURL = $ko)
				$rowMain&lt;img src=&quot;$iconURL&quot; class=&quot;ok_ko_image&quot;/&gt;&lt;b&gt;Release PM&lt;/b&gt; needs to be assigned$rowEnd
			#end
		&lt;/table&gt;
	&lt;/table&gt;
#end

        </sub>
      </sub>
    </span>
  </div>
  <p id="polarion_1"></p>
</div>
<div class="polarion-rp-row-separator"></div>
<div class="polarion-rp-column" style="width: 100%;">
  <h2 id="polarion_client6">Delivered Epics</h2>
  <p id="polarion_client5"></p>
</div>
<div class="polarion-rp-row-separator"></div>
<div class="polarion-rp-column" style="width: 70%;">
  <div id="polarion_client18" class="polarion-rp-widget-part" data-widget="com.polarion.table">
    <span class="polarion-rp-widget-parameters" style="display: none;">
      <sub id="dataSet">
        <sub id="prototype">WorkItem</sub>
        <sub id="subtype">epic</sub>
        <sub id="queryType">luceneVelocity</sub>
        <sub id="luceneQuery" style="white-space:pre;">status:verified AND targetVersion.KEY:$pageContext.planId</sub>
        <sub id="children">
          <sub id="columns">
            <sub>
              <sub id="id">id</sub>
            </sub>
            <sub>
              <sub id="id">title</sub>
            </sub>
            <sub>
              <sub id="id">status</sub>
            </sub>
            <sub>
              <sub id="id">priority</sub>
            </sub>
            <sub>
              <sub id="id">severity</sub>
            </sub>
            <sub>
              <sub id="id">epicEstimate</sub>
            </sub>
            <sub>
              <sub id="id">initialEstimate</sub>
            </sub>
            <sub>
              <sub id="id">timeSpent</sub>
            </sub>
            <sub>
              <sub id="id">remainingEstimate</sub>
            </sub>
          </sub>
          <sub id="sortBy">
            <sub>
              <sub id="id">priority</sub>
              <sub id="descending">true</sub>
            </sub>
          </sub>
        </sub>
      </sub>
      <sub id="propertiesSidebarFields">
        <sub>
          <sub id="id">assignee</sub>
        </sub>
        <sub>
          <sub id="id">severity</sub>
        </sub>
        <sub>
          <sub id="id">epicEstimate</sub>
        </sub>
        <sub>
          <sub id="id">status</sub>
        </sub>
        <sub>
          <sub id="id">resolution</sub>
        </sub>
        <sub>
          <sub id="id">linkedWorkItems</sub>
        </sub>
      </sub>
      <sub id="advanced">
        <sub id="top">50</sub>
      </sub>
    </span>
  </div>
  <p id="polarion_client20"></p>
</div>
<div class="polarion-rp-column" style="width: 30%;">
  <div id="polarion_client27" class="polarion-rp-widget-part" data-widget="com.polarion.separateByPieChart">
    <span class="polarion-rp-widget-parameters" style="display: none;">
      <sub id="title">Epics by Epic Estimate</sub>
      <sub id="dataSet">
        <sub id="prototype">WorkItem</sub>
        <sub id="subtype">epic</sub>
        <sub id="queryType">luceneVelocity</sub>
        <sub id="luceneQuery" style="white-space:pre;">status:verified AND targetVersion.KEY:$pageContext.planId</sub>
        <sub id="children">
          <sub id="separateBy">
            <sub id="field">epicEstimate</sub>
          </sub>
        </sub>
      </sub>
      <sub id="showDataLabels">true</sub>
      <sub id="showZeroValues">false</sub>
      <sub id="advanced">
        <sub id="height">250px</sub>
        <sub id="width"> </sub>
      </sub>
    </span>
  </div>
</div>
<div class="polarion-rp-row-separator"></div>
<div class="polarion-rp-column" style="width: 100%;">
  <h2 id="polarion_client8">Delivered User Stories</h2>
  <p id="polarion_client7"></p>
</div>
<div class="polarion-rp-row-separator"></div>
<div class="polarion-rp-column" style="width: 70%;">
  <div id="polarion_client15" class="polarion-rp-widget-part" data-widget="com.polarion.table">
    <span class="polarion-rp-widget-parameters">
      <sub id="dataSet">
        <sub id="prototype">WorkItem</sub>
        <sub id="queryType">luceneVelocity</sub>
        <sub id="luceneQuery" style="white-space:pre;">status:verified AND PLAN:($pageContext.projectId/$pageContext.planId)</sub>
        <sub id="children">
          <sub id="columns">
            <sub>
              <sub id="id">id</sub>
            </sub>
            <sub>
              <sub id="id">title</sub>
            </sub>
            <sub>
              <sub id="id">priority</sub>
            </sub>
            <sub>
              <sub id="id">severity</sub>
            </sub>
            <sub>
              <sub id="id">storyPoints</sub>
            </sub>
            <sub>
              <sub id="id">initialEstimate</sub>
            </sub>
            <sub>
              <sub id="id">timeSpent</sub>
            </sub>
            <sub>
              <sub id="id">remainingEstimate</sub>
            </sub>
          </sub>
          <sub id="sortBy">
            <sub>
              <sub id="id">priority</sub>
              <sub id="descending">true</sub>
            </sub>
          </sub>
        </sub>
      </sub>
      <sub id="propertiesSidebarFields">
        <sub>
          <sub id="id">assignee</sub>
        </sub>
        <sub>
          <sub id="id">severity</sub>
        </sub>
        <sub>
          <sub id="id">storyPoints</sub>
        </sub>
        <sub>
          <sub id="id">status</sub>
        </sub>
        <sub>
          <sub id="id">resolution</sub>
        </sub>
        <sub>
          <sub id="id">linkedWorkItems</sub>
        </sub>
      </sub>
      <sub id="advanced">
        <sub id="top">50</sub>
      </sub>
    </span>
  </div>
</div>
<div class="polarion-rp-column" style="width: 30%;">
  <p id="polarion_5"></p>
</div>
<div class="polarion-rp-row-separator"></div>
<div class="polarion-rp-column" style="width: 100%;">
  <h2 id="polarion_client14">Fixed Issues</h2>
  <p id="polarion_client13"></p>
</div>
<div class="polarion-rp-row-separator"></div>
<div class="polarion-rp-column" style="width: 70%;">
  <div id="polarion_client34" class="polarion-rp-widget-part" data-widget="com.polarion.table">
    <span class="polarion-rp-widget-parameters" style="display: none;">
      <sub id="dataSet">
        <sub id="prototype">WorkItem</sub>
        <sub id="subtype">issue</sub>
        <sub id="queryType">luceneVelocity</sub>
        <sub id="luceneQuery" style="white-space:pre;">status:verified AND targetVersion.KEY:$pageContext.planId</sub>
        <sub id="children">
          <sub id="columns">
            <sub>
              <sub id="id">id</sub>
            </sub>
            <sub>
              <sub id="id">title</sub>
            </sub>
            <sub>
              <sub id="id">priority</sub>
            </sub>
            <sub>
              <sub id="id">severity</sub>
            </sub>
            <sub>
              <sub id="id">initialEstimate</sub>
            </sub>
            <sub>
              <sub id="id">timeSpent</sub>
            </sub>
            <sub>
              <sub id="id">remainingEstimate</sub>
            </sub>
          </sub>
          <sub id="sortBy">
            <sub>
              <sub id="id">priority</sub>
              <sub id="descending">true</sub>
            </sub>
          </sub>
        </sub>
      </sub>
      <sub id="propertiesSidebarFields">
        <sub>
          <sub id="id">assignee</sub>
        </sub>
        <sub>
          <sub id="id">severity</sub>
        </sub>
        <sub>
          <sub id="id">occurredInVersion</sub>
        </sub>
        <sub>
          <sub id="id">status</sub>
        </sub>
        <sub>
          <sub id="id">resolution</sub>
        </sub>
        <sub>
          <sub id="id">linkedWorkItems</sub>
        </sub>
      </sub>
      <sub id="advanced">
        <sub id="top">50</sub>
      </sub>
    </span>
  </div>
  <p id="polarion_client36"></p>
</div>
<div class="polarion-rp-column" style="width: 30%;">
  <p id="polarion_client78"></p>
</div>
<div class="polarion-rp-row-separator"></div>
<div class="polarion-rp-column" style="width: 100%;">
  <h2 id="polarion_client22">Related Test Runs</h2>
  <p id="polarion_client17"></p>
</div>
<div class="polarion-rp-row-separator"></div>
<div class="polarion-rp-column" style="width: 70%;">
  <div id="polarion_client24" class="polarion-rp-widget-part" data-widget="com.polarion.table">
    <span class="polarion-rp-widget-parameters" style="display: none;">
      <sub id="dataSet">
        <sub id="prototype">TestRun</sub>
        <sub id="queryType">luceneVelocity</sub>
        <sub id="luceneQuery" style="white-space:pre;">planScope.KEY:$pageContext.planId</sub>
        <sub id="children">
          <sub id="columns">
            <sub>
              <sub id="id">id</sub>
            </sub>
            <sub>
              <sub id="id">status</sub>
            </sub>
            <sub>
              <sub id="id">template</sub>
            </sub>
            <sub>
              <sub id="id">created</sub>
            </sub>
            <sub>
              <sub id="id">author</sub>
            </sub>
          </sub>
          <sub id="sortBy">
            <sub>
              <sub id="id">finishedOn</sub>
              <sub id="descending">true</sub>
            </sub>
          </sub>
        </sub>
      </sub>
      <sub id="advanced">
        <sub id="top">50</sub>
      </sub>
    </span>
  </div>
  <p id="polarion_client29"></p><p id="polarion_client79"></p><p id="polarion_client47"></p>
</div>
<div class="polarion-rp-column" style="width: 30%;">
  <div id="polarion_client38" class="polarion-rp-widget-part" data-widget="com.polarion.separateByPieChart">
    <span class="polarion-rp-widget-parameters" style="display: none;">
      <sub id="title">Test Runs by Status</sub>
      <sub id="dataSet">
        <sub id="prototype">TestRun</sub>
        <sub id="queryType">luceneVelocity</sub>
        <sub id="luceneQuery" style="white-space:pre;">planScope.KEY:$pageContext.planId</sub>
        <sub id="children">
          <sub id="separateBy">
            <sub id="field">status</sub>
          </sub>
        </sub>
      </sub>
      <sub id="showDataLabels">true</sub>
      <sub id="showZeroValues">false</sub>
      <sub id="advanced">
        <sub id="height">250px</sub>
        <sub id="width"> </sub>
      </sub>
    </span>
  </div>
</div>
<div class="polarion-rp-row-separator"></div>
<span id="polarion-rp-parameters">
  <sub id="item" data-label="Release Work Item ID" data-type="String"></sub>
</span>
<pre id="polarion-rp-page-script">################################################################################
##
##  Velocity Context - following objects are in the velocity context
##
## com.polarion.alm.shared.api.model.rp.RichPage $page
## com.polarion.alm.shared.api.transaction.ReadOnlyTransaction $transaction
## com.polarion.alm.shared.api.model.wi.WorkItem $item
## com.polarion.alm.shared.api.model.rp.parameter.impl.enumeration.EnumParameterImpl $release
## com.polarion.alm.server.api.model.eo.ProxyEnumOption $a

#set($allowRendering = true)
#set($projectId = $page.getReference().projectId())
#if(!$urlParameters.item &amp;&amp; $pageParameters.item.value().isEmpty())
	#set($allowRendering = false)
	#set($message = &quot;No Release Work Item ID provided! Please select a Release from the table below to show its report.&quot;)
#else
	#set($itemId = $pageParameters.item.value())
	$!pageContext.put(&quot;projectId&quot;, &quot;$projectId&quot;)
	$!pageContext.put(&quot;itemId&quot;, &quot;$itemId&quot;)
	#set($item = $transaction.workItems().getBy().ids($projectId, $itemId))
	#if(!$item.fields().type().get().fields().id().get().equals(&quot;release&quot;))
		#set($allowRendering = false)
		#set($message = &quot;Invalid Work Item ID provided. Please only use existing Release Work Item Type IDs.&quot;)
	#else
		#set($plan = $item.fields().get(&quot;releasePlan&quot;).get().getModelObject())
		#set($planId = $plan.getReference().id())
		$!pageContext.put(&quot;planId&quot;, &quot;$planId&quot;)	
	#end
#end
$!pageContext.put(&quot;allowRendering&quot;, &quot;$allowRendering&quot;)	
$!pageContext.put(&quot;message&quot;, &quot;$message&quot;)	

Allow Rendering: $allowRendering &lt;br/&gt;
Message: $!message &lt;br/&gt;
Project: $projectId &lt;br/&gt;
Item: $!itemId &lt;br/&gt;
PlanId: $!planId
</pre>]]></field>
    <field id="title">Release Report</field>
</rich-page>
